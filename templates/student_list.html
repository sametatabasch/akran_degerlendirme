{% extends "layout.html" %}

{% block title %}Öğrenci Listesi{% endblock %}
{% block head %}
    <link rel="stylesheet" href="{{ url_for('static',filename='css/range.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/buttons.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.css"/>

    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.js"></script>
{% endblock %}

{% block content %}
    {% if current_user.is_authenticated %}
        <div class="container">
            <h2>Öğrenci Listesi</h2>

        <table id="student_list">
            <thead>
            <tr>
                <th>Id</th>
                <th>Kullanıcı Adı</th>
                <th>Adı</th>
                <th>Soyadı</th>
                <th>Numara</th>
            </tr>
            </thead>
            <tbody>
            {% for student in students %}
                <tr>
                    <td>{{ student.id }}</td>
                    <td>{{ student.username }}</td>
                    <td>{{ student.first_name }}</td>
                    <td>{{ student.last_name }}</td>
                    <td>{{ student.student_number }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        </div>
    {% else %}
        <h2>Ana Sayfa</h2>
        <p>Lütfen giriş yapın.</p>
        <a href="{{ url_for('login') }}">Giriş Yap</a>
    {% endif %}

    <script>
         let table = new DataTable('#student_list');
    </script>

{% endblock %}
